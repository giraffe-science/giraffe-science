{"version":3,"sources":["components/SignInButton.tsx","components/GiraffeMarkdown.tsx","pages/PrivacyPolicy.tsx","library/Library.ts","styles.tsx","util/dates.ts","components/ResourceFooter.tsx","components/ResourceLinks.tsx","components/Tags.tsx","useMeta.tsx","pages/ResourcePage.tsx","components/ResourceCard.tsx","pages/ResourcesPage.tsx","pages/TermsOfService.tsx","App.tsx","auth/Facebook.ts","FeatureFlags.tsx","library/Lookup.ts","serviceWorker.ts","util/ErrorReports.ts","util/http4t/AxiosClient.ts","index.tsx","images/fur-2.png","images/fur.png"],"names":["SignInButton","facebook","user","setUser","hasFetchedUser","hasUser","Boolean","then","catch","buttonText","Fragment","Button","variant","color","onClick","logout","login","GiraffeLi","children","Typography","GiraffeMarkdown","style","marginTop","options","disableParsingRawHTML","overrides","h1","component","props","marginBottom","h2","h3","h4","p","li","PrivacyPolicy","Container","IdType","ResourceType","Identifier","data","type","__","enumvalue","value","isstring","description","opt","Tag","id","name","isDiagnosis","isboolean","Link","text","url","isResourceType","isdata","tags","arrayof","summary","title","created","links","getDoi","resource","doi","undefined","useClasses","makeStyles","theme","appBar","backgroundColor","boxShadow","content","maxWidth","minHeight","contentText","h1Scientific","fontSize","letterSpacing","lineHeight","h1Giraffe","resourceCard","height","resourceCardContent","textAlign","padding","resourceLink","textDecoration","palette","primary","fontWeight","main","resourceType","resourceDate","resourceTitle","paddingBottom","baseTheme","createMuiTheme","typography","fontFamily","h5","body1","body2","background","default","MuiCssBaseline","a","responsiveFontSizes","months","formatDateForCitation","date","getMonth","getDay","getFullYear","ResourceFooter","meta","classes","published","formatDate","className","display","toUpperCase","link","Error","JSON","stringify","assertUnreachable","linkTypePriority","reduce","acc","i","priority","ResourceLinks","count","linksToInclude","sort","b","splice","length","map","uri","startsWith","toUrl","key","href","Uri","of","authority","host","Tags","selected","Set","filter","tag","toLowerCase","localeCompare","Chip","label","clickable","has","useMeta","lookup","useState","setMeta","ResourcePage","library","useParams","identifierType","identifier","history","useHistory","byId","decodeURIComponent","justifyContent","push","publicationTitle","width","paddingTop","authors","join","issn","ResourceCard","Card","flexDirection","CardContent","to","encodeURIComponent","CardActions","margin","Grid","container","alignContent","alignItems","ResourcesPage","location","useLocation","URLSearchParams","search","get","split","x","Object","values","newTags","delete","add","borderTop","spacing","resources","size","t","hasTag","item","xs","sm","md","TermsOfService","App","loading","errors","flags","error","setError","setLibrary","reporter","ThemeProvider","CssBaseline","AppBar","position","borderBottom","justify","signIn","groups","alt","src","fur","marginRight","fur2","marginLeft","path","Snackbar","open","autoHideDuration","Alert","onClose","severity","message","fb","Promise","resolve","wait","window","FB","setInterval","Facebook","this","promise","getLoginStatus","response","console","log","reject","authResponse","return_scopes","scope","api","me","FeatureFlags","localStorage","getItem","CrossRefLookup","http","handle","status","bufferText","body","json","parse","DOI","ISSN","timestamp","Date","author","sequence","family","given","CachedLookup","decorated","cache","hasOwnProperty","hostname","match","ErrorReports","listeners","self","e","report","listener","forEach","listenerError","executor","AxiosClient","request","axios","method","toString","headers","n","v","transformResponse","res","validateStatus","entries","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.82b28f9d.chunk.js","sourcesContent":["import Button from \"@material-ui/core/Button\";\nimport React from \"react\";\nimport {SiFacebook} from 'react-icons/si';\nimport {Facebook, FullUser} from \"../auth/Facebook\";\n\nexport function SignInButton({facebook, user, setUser}: { facebook: Facebook, user: FullUser | undefined | null, setUser: (user: FullUser | null) => void }) {\n    const hasFetchedUser = typeof user !== \"undefined\";\n    const hasUser = Boolean(user);\n\n    if (!hasFetchedUser) facebook.user().then(setUser).catch()\n\n    const buttonText = hasUser ? \"Logout\" : \"Login\";\n    const onClick = () => {\n        if (hasUser) {\n            facebook\n                .logout()\n                .then(() => setUser(null))\n                .catch();\n        } else {\n            facebook.login()\n                .then(() => facebook.user())\n                .then(setUser)\n                .catch();\n        }\n    };\n\n    return <React.Fragment>\n        {hasFetchedUser && <Button variant=\"outlined\" color=\"primary\" onClick={onClick}><SiFacebook/>&nbsp;&nbsp;{\n            buttonText\n        }</Button>}\n    </React.Fragment>\n}\n","import {Variant} from \"@material-ui/core/styles/createTypography\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Markdown from \"markdown-to-jsx\";\nimport React from \"react\";\n\nexport type TypographyColor = 'initial'\n    | 'inherit'\n    | 'primary'\n    | 'secondary'\n    | 'textPrimary'\n    | 'textSecondary'\n    | 'error';\n\nexport function GiraffeLi({children, variant, color}: {\n    children: any,\n    variant?: Variant,\n    color?: TypographyColor\n}) {\n    return <li><Typography variant={variant} color={color}>{children}</Typography></li>;\n}\n\nexport function GiraffeMarkdown({children, color}: {\n    children: any,\n    color?: TypographyColor\n}) {\n    return <Markdown\n        style={{marginTop: \"15px\"}}\n        options={{\n            disableParsingRawHTML: true, overrides: {\n                h1: {component: Typography, props: {variant:\"h1\", color, style: {marginBottom: \"15px\"}}},\n                h2: {component: Typography, props: {variant:\"h2\", color, style: {marginBottom: \"15px\"}}},\n                h3: {component: Typography, props: {variant:\"h3\", color, style: {marginBottom: \"15px\"}}},\n                h4: {component: Typography, props: {variant:\"h4\", color, style: {marginBottom: \"15px\"}}},\n                p: {component: Typography, props: {color, style: {marginBottom: \"15px\"}}},\n                li: {component: GiraffeLi, props: {color}}\n            }\n        }}>{children}</Markdown>;\n}\n","import Container from \"@material-ui/core/Container\";\nimport React from \"react\";\nimport {GiraffeMarkdown} from \"../components/GiraffeMarkdown\";\n\nconst text = `\n# Scientific Giraffe Privacy Policy\n\nThis privacy policy will explain how this website uses the personal data it collect from you when you use\nit.\n\nTopics:\n\n* What data do we collect?\n* How do we collect your data?\n* How will we use your data?\n* How do we store your data?\n* Marketing\n* What are your data protection rights?\n* What are cookies?\n* How do we use cookies?\n* What types of cookies do we use?\n* How to manage your cookies\n* Privacy policies of other websites\n* Changes to our privacy policy\n* How to contact us\n* How to contact the appropriate authorities\n\n## What data do we collect?\n\nThis website collects the following data:\n\n* Email address\n* Facebook user details\n\n## How do we collect your data?\n\nYou directly provide us with with most of the data we collect. We collect data and process data when you:\n\n* Register online or place an order for any of our products or services.\n* Log in using Facebook Connect\n* Voluntarily complete a customer survey or provide feedback on any of our message boards or via email.\n* Use or view our website via your browser’s cookies.\n\n## How will we use your data?\n\nThis website collects your data so that we can:\n\n* Email you if you ask us to send you notifications of new articles\n* Check that you are a member of the appropriate Facebook group\n\nWe do not share your data with anybody else.\n\n## How do we store your data?\n\nAll data is securely stored, and encrypted at rest where possible.\n\nWe will keep your data until you delete your account.\n\n## Marketing\n\nWe do not send marketing emails\n\n## What are your data protection rights?\n\nWe would like to make sure you are fully aware of all of your data protection rights. Every user is\nentitled to the following:\n\n**The right to access –** You have the right to request copies of your personal data. We may\ncharge you a small fee for this service.\n\n**The right to rectification –** You have the right to request that we correct any information you\nbelieve is inaccurate. You also have the right to request we complete the information you\nbelieve is incomplete.\n\n**The right to erasure –** You have the right to request that we erase your personal data, under\ncertain conditions.\n\n**The right to restrict processing –** You have the right to request that we restrict the processing of\nyour personal data, under certain conditions.\n\n**The right to object to processing –** You have the right to object to our processing of your\npersonal data, under certain conditions.\n\n**The right to data portability –** You have the right to request that we transfer the data that we\nhave collected to another organization, or directly to you, under certain conditions.\n\nIf you make a request, we have one month to respond to you. If you would like to exercise any of these\nrights, please contact us at our email: **privacy@giraffe.science**\n\n## Cookies\n\nCookies are text files placed on your computer to collect standard Internet log information and visitor\nbehavior information. When you visit our websites, we may collect information from you automatically through\ncookies or similar technology\n\nFor further information, visit https://allaboutcookies.org.\n\n### How do we use cookies?\n\nWe use cookies in a range of ways to improve your experience on our website, including:\n\n* Keeping you signed in\n* Understanding how you use our website\n\n### What types of cookies do we use?\n\nThere are a number of different types of cookies, however, our website uses:\n\n**Functionality –** we use these cookies so that we recognize you on our website and remember your\npreviously selected preferences. These could include what language you prefer and location you are in. A mix\nof first-party and third-party cookies are used.\n\n### How to manage cookies\n\nYou can set your browser not to accept cookies, and the above website tells you how to remove cookies from\nyour browser. However, in a few cases, some of our website features may not function as a result.\n\n## Privacy policies of other websites\n\nThe website contains links to other websites. Our privacy policy applies only to our website, so\nif you click on a link to another website, you should read their privacy policy.\n\n## Changes to our privacy policy\n\nWe keep this privacy policy under regular review and places any updates on this web page. This\nprivacy policy was last updated on 30 October 2020.\n\n## How to contact us\n\nIf you have any questions about this privacy policy, the data we hold on you, or you would like to\nexercise one of your data protection rights, please do not hesitate to contact us at **privacy@giraffe.science**.\n\n## How to contact the appropriate authority\n\nShould you wish to report a complaint or if you feel that we have not addressed your concern in a\nsatisfactory manner, you may contact the Information Commissioner’s Office.\n\nhttps://ico.org.uk/global/contact-us/\n`;\n\nexport function PrivacyPolicy() {\n    return <Container>\n        <GiraffeMarkdown>{text}</GiraffeMarkdown>\n    </Container>\n}\n","import {__, arrayof, data, enumvalue, isboolean, isdata, isstring, opt} from \"@deckchair-technicians/vice\";\n\nexport enum IdType {\n    doi = \"doi\",\n    url = \"url\"\n}\n\n@data\nexport class Identifier {\n    readonly type: IdType = __(enumvalue(IdType));\n    readonly value: string = __(isstring());\n    readonly description?: string = __(opt(isstring()));\n}\n\nexport enum ResourceType {\n    article = \"article\",\n    handout = \"handout\",\n    webinar = \"webinar\",\n    web_page = \"web page\",\n    pdf = \"pdf\",\n}\n\n@data\nexport class Tag {\n    readonly id: string = __(isstring())\n    readonly name: string = __(isstring())\n    readonly isDiagnosis: boolean = __(isboolean())\n}\n\n@data\nexport class Link {\n    readonly type?: string = __(opt(isstring()));\n    readonly text?: string = __(opt(isstring()));\n    readonly url: string = __(isstring());\n}\n\nexport const isResourceType = enumvalue(ResourceType);\n\n@data\nexport class Resource {\n    readonly id: Identifier = __(isdata(Identifier));\n    readonly type: ResourceType = __(isResourceType);\n    readonly tags: Tag[] = __(arrayof(isdata(Tag)));\n    readonly summary?: string = __(opt(isstring()));\n    readonly title?: string = __(opt(isstring()));\n    readonly created?: string = __(opt(isstring()));\n    readonly links: Link[] = __(arrayof(isdata(Link)));\n}\n\nexport type ById<T> = { [k: string]: T };\nexport type ByTag<T> = { [k: string]: T[] };\nexport type ByIds = {\n    doi: ById<Resource>,\n    url: ById<Resource>,\n};\n\nexport type Library = {\n    readonly resources: Resource[],\n    readonly tags: ById<Tag>,\n    readonly byTag: ByTag<Resource>,\n    readonly byId: ByIds,\n}\n\nexport function library(resources: Resource[], tags: ById<Tag>): Library {\n    const byTag = resources\n        .reduce((acc, resource) =>\n            resource.tags.reduce((acc, tag) => {\n                acc[tag.id] = (acc[tag.id] || [])\n                acc[tag.id].push(resource);\n                return acc;\n            }, acc), {} as ByTag<Resource>)\n\n    const byId = resources.reduce((acc, resource) => {\n        const id = resource.id;\n        if (id.type === \"doi\" || id.type === \"url\") {\n            const existing = acc[id.type][id.value];\n            if (!existing || resource.summary) {\n                acc[id.type][id.value] = resource;\n            }\n        }\n        return acc;\n    }, {doi: {}, url: {}} as ByIds)\n\n    return {resources: resources, tags, byTag, byId};\n}\n\nexport function getDoi(resource: Resource): string | undefined {\n    return resource.id.type === IdType.doi ? resource.id.value : undefined;\n}\n","import {makeStyles, Theme as DefaultTheme} from \"@material-ui/core/styles\";\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\nimport responsiveFontSizes from \"@material-ui/core/styles/responsiveFontSizes\";\nimport {ClassNameMap} from \"@material-ui/core/styles/withStyles\";\n\nexport type CustomClass =\n    \"appBar\"\n    | \"content\"\n    | \"contentText\"\n    | \"h1Giraffe\"\n    | \"h1Scientific\"\n    | \"resourceCard\"\n    | \"resourceCardContent\"\n    | \"resourceLink\"\n    | \"resourceTitle\"\n    | \"resourceType\"\n    | \"resourceDate\";\nexport const useClasses: (props?: any) => ClassNameMap<CustomClass> = makeStyles<DefaultTheme, CustomClass>((theme => (\n    {\n        appBar: {\n            color: \"#222\",\n            backgroundColor: \"#fff\",\n            boxShadow: \"none\"\n        },\n        content: {\n            maxWidth: \"750px\",\n            minHeight: \"750px\"\n        },\n        contentText: {\n            marginTop:\"20px\"\n        },\n        h1Scientific: {\n            fontSize: 31.5,\n            letterSpacing: 3,\n            lineHeight: 0.75,\n        },\n        h1Giraffe: {\n            fontSize: 44,\n            letterSpacing: 3,\n            lineHeight: 0.75,\n        },\n        resourceCard: {\n            boxShadow: \"none\",\n            height: \"100%\",\n        },\n        resourceCardContent: {\n            textAlign: \"left\",\n            padding: \"0\"\n        },\n        resourceLink: {\n            textDecoration: \"none\",\n            color: theme.palette.text.primary,\n            fontWeight: \"bold\",\n            \"&:hover\": {\n                color: theme.palette.primary.main\n            }\n        },\n        resourceType: {\n            fontSize: 14,\n            textAlign: \"left\",\n            fontWeight: \"bold\"\n        },\n        resourceDate: {\n            fontSize: 14,\n            textAlign: \"left\",\n            fontWeight: \"normal\"\n        },\n        resourceTitle: {\n            fontSize: 18,\n            textAlign: \"left\",\n            paddingBottom: \"10px\"\n        }\n    }\n)));\nconst primary = \"#B06B32\";\nconst baseTheme = createMuiTheme({\n    typography: {\n        fontFamily: '-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif',\n        h1: {\n            fontFamily: 'Georgia, serif',\n            fontSize: 32,\n            color:\"#1a1a1a\",\n        },\n        h2: {\n            fontFamily: 'Georgia, serif',\n            fontSize: 24,\n            color:\"#B06B32\",\n            marginTop:\"30px\"\n        },\n        h3: {\n            fontSize: 20,\n            color:\"#585858\",\n            marginTop:\"30px\"\n        },\n        h5: {\n            fontFamily: 'Georgia, serif',\n        },\n        body1 :{\n            color: \"#323232\",\n        },\n        body2 :{\n            color: \"#656565\",\n        }\n    },\n    palette: {\n        background: {\n            default: \"#fff\"\n        },\n        primary: {\n            main: primary\n        }\n    },\n    overrides: {\n        MuiCssBaseline: {\n            '@global': {\n                '@font-face': [],\n                a: {\n                    textDecoration: \"none\",\n                    color: primary\n                }\n            },\n        }\n    },\n});\nexport const theme = responsiveFontSizes(baseTheme);\n","const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n\nexport function formatDate(date: Date | undefined): string | undefined {\n    if (typeof date === \"undefined\") return;\n    return `${date?.getDay()} ${months[date.getMonth()]} ${date.getFullYear()}`;\n}\n\nexport function formatDateForCitation(date: Date | undefined): string | undefined {\n    if (typeof date === \"undefined\") return;\n    return `(${months[date.getMonth()]} ${date?.getDay()}, ${date.getFullYear()})`;\n}","import Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\nimport {Resource} from \"../library/Library\";\nimport {Metadata} from \"../library/Lookup\";\nimport {useClasses} from \"../styles\";\nimport {formatDate} from \"../util/dates\";\n\nexport function ResourceFooter({resource, meta}: { resource: Resource, meta?: Metadata }) {\n    const classes = useClasses();\n    const created = meta?.published\n        ? formatDate(meta.published)\n        : resource.created;\n    return <React.Fragment>\n        <Typography className={classes.resourceType} display=\"inline\">\n            {resource.type.toUpperCase()}\n        </Typography>\n        <Typography className={classes.resourceType} display=\"inline\">&nbsp;|&nbsp;</Typography>\n        <Typography className={classes.resourceDate} display=\"inline\" color=\"textSecondary\">\n            {created}\n        </Typography>\n    </React.Fragment>\n\n}\n","import {Uri} from \"@http4t/core/uri\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\nimport {IdType, Link, Resource} from \"../library/Library\";\n\nfunction toUrl(uri: string): string {\n    return uri.startsWith(\"http\") ? uri : `http://${uri}`;\n}\n\nfunction link(resource: Resource): Link {\n    switch (resource.id.type) {\n        case IdType.doi:\n            return {type: \"doi.org\", url: `https://doi.org/${resource.id.value}`, text: resource.id.value}\n        case IdType.url:\n            return {type: \"original\", url: resource.id.value}\n        default:\n            assertUnreachable(resource.id.type);\n    }\n}\n\nexport function assertUnreachable(value: never): never {\n    throw new Error(`Did not expect value ${JSON.stringify(value)}`);\n}\n\nconst linkTypePriority: { [k: string]: number } = [\"article\", \"article abstract\", \"pdf\"].reduce((acc, type, i) => {\n    acc[type] = i;\n    return acc;\n}, {} as { [k: string]: number })\n\nfunction priority(a: Link) {\n    return a.type ? linkTypePriority[a.type] || 100 : 200;\n}\n\nexport function ResourceLinks({resource, count}: { resource: Resource, count?: number }) {\n    const resourceLink: Link = link(resource)\n\n    const linksToInclude = [...resource.links].sort((a, b) =>\n        priority(a) - priority(b)\n    ).splice(0, count || resource.links.length);\n\n    return <React.Fragment>\n        {\n            [resourceLink, ...linksToInclude]\n                .map((link) => {\n                    const url = toUrl(link.url);\n                    return <Typography variant=\"body2\" key={link.url}>{link.type || \"link\"}: <a\n                        href={url}>{link.text || Uri.of(url)?.authority?.host}</a></Typography>;\n                })\n        }\n        {linksToInclude.length === 0 &&\n        <Typography variant=\"body2\">&nbsp;</Typography>\n        }\n    </React.Fragment>;\n}\n","import Chip from \"@material-ui/core/Chip\";\nimport React from \"react\";\nimport {Tag} from \"../library/Library\";\n\nexport function Tags({tags, onClick, selected = new Set()}: { tags: Tag[], selected?: Set<string>, onClick: (tag: string) => void }) {\n    return <React.Fragment>\n        {tags\n            .filter(tag => tag.isDiagnosis)\n            .sort((a, b) => a.name.toLowerCase().localeCompare(b.name.toLowerCase()))\n            .map(tag =>\n                <Chip label={tag.name.toUpperCase()}\n                      key={tag.id}\n                      clickable\n                      color={selected.has(tag.id) ? \"primary\" : \"default\"}\n                      onClick={() => onClick(tag.id)}\n                />)}\n    </React.Fragment>\n}\n","import {useState} from \"react\";\nimport {Lookup, Metadata} from \"./library/Lookup\";\n\nexport function useMeta(doi: string | undefined, lookup: Lookup) {\n    const [meta, setMeta] = useState<Metadata>();\n    if (doi) {\n        lookup.lookup(doi).then(setMeta)\n    }\n    return meta;\n}\n","import {Container} from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\nimport {useHistory, useParams} from \"react-router-dom\";\nimport {GiraffeMarkdown} from \"../components/GiraffeMarkdown\";\nimport {ByIds, getDoi, Library} from \"../library/Library\";\nimport {Lookup} from \"../library/Lookup\";\nimport {ResourceFooter} from \"../components/ResourceFooter\";\nimport {ResourceLinks} from \"../components/ResourceLinks\";\nimport {useClasses} from \"../styles\";\nimport {Tags} from \"../components/Tags\";\nimport {useMeta} from \"../useMeta\";\nimport {formatDateForCitation} from \"../util/dates\";\n\n\nexport function ResourcePage({library, lookup}: { library: Library, lookup: Lookup }) {\n    const {identifierType, identifier} = useParams();\n    const history = useHistory();\n    const classes = useClasses();\n    const resource = library.byId[identifierType as keyof ByIds]?.[decodeURIComponent(identifier)];\n    const doi = getDoi(resource);\n    const meta = useMeta(doi, lookup);\n    return <React.Fragment>\n        {!resource && <p>Resource not found</p>}\n        {resource && <Container>\n          <Container style={{justifyContent: \"center\"}}>\n            <Container style={{textAlign: \"center\"}}>\n              <Tags tags={resource.tags} onClick={(tag) => history.push(`/?tags=${tag}`)}/>\n            </Container>\n\n              {meta?.publicationTitle &&\n              <Container style={{width: \"100%\"}}>\n                <Typography style={{\n                    textAlign: \"center\",\n                    marginTop: \"15px\",\n                    fontFamily: '-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif',\n                    fontSize: 18,\n                    color:\"#1a1a1a\"\n                }}>{meta?.publicationTitle}</Typography>\n              </Container>}\n\n            <Container style={{maxWidth: \"900px\", paddingTop: \"10px\", paddingBottom: \"10px\"}}>\n              <Typography style={{textAlign: \"center\"}} variant=\"h1\"\n              >{resource.title}</Typography>\n\n            </Container>\n            <Container style={{textAlign: \"center\", maxWidth: \"300px\"}}>\n              <ResourceFooter resource={resource} meta={meta}/>\n            </Container>\n          </Container>\n\n\n          <Container className={classes.content}>\n              {resource.summary\n                  ? <GiraffeMarkdown>{resource.summary}</GiraffeMarkdown>\n                  : <Typography variant=\"body1\">&nbsp;</Typography>}\n\n              {<ResourceLinks resource={resource}/>}\n              {meta && <Typography variant=\"body2\" style={{marginTop: \"20px\"}}>{[\n                  meta.authors.join(\"; \"),\n                  formatDateForCitation(meta.published),\n                  `\"${meta.title}\"`,\n                  meta.publicationTitle,\n                  meta.doi ? `doi: ${meta.doi}` : \"\",\n                  meta.issn ? `issn: ${meta.issn}` : \"\",\n              ].join(\" \")}</Typography>}\n          </Container>\n        </Container>\n        }\n\n    </React.Fragment>;\n}\n","import {Card} from \"@material-ui/core\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {GiraffeMarkdown} from \"./GiraffeMarkdown\";\nimport {getDoi, Resource} from \"../library/Library\";\nimport {Lookup} from \"../library/Lookup\";\nimport {ResourceFooter} from \"./ResourceFooter\";\nimport {ResourceLinks} from \"./ResourceLinks\";\nimport {useClasses} from \"../styles\";\nimport {useMeta} from \"../useMeta\";\n\nexport function ResourceCard({resource, i, lookup}: { resource: Resource, i: number, lookup: Lookup }) {\n    const classes = useClasses();\n    const doi = getDoi(resource);\n    const meta = useMeta(doi, lookup);\n\n    return <Card className={classes.resourceCard} key={i}\n                 style={{display: 'flex', justifyContent: 'space-between', flexDirection: 'column'}}>\n        <CardContent className={classes.resourceCardContent}>\n            <Link\n                to={`/resources/${resource.id.type}/${encodeURIComponent(resource.id.value)}`}\n                className={classes.resourceLink}>\n                <Typography className={classes.resourceTitle}\n                            variant=\"h5\"\n                            component=\"h5\">{resource.title}</Typography></Link>\n            {resource.summary\n                ? <GiraffeMarkdown color=\"textSecondary\">{resource.summary}</GiraffeMarkdown>\n                : <Typography variant=\"body1\">&nbsp;</Typography>}\n\n        </CardContent>\n        <CardActions style={{margin: \"0\", padding: \"15px 0 0 0\"}}>\n            <Grid container style={{flexDirection: \"column\", alignContent: \"flex-start\", alignItems: \"flex-start\"}}>\n                {resource.type &&\n                <Grid container>\n                  <ResourceFooter resource={resource} meta={meta}/>\n                </Grid>\n                }\n                <ResourceLinks resource={resource} count={1}/>\n            </Grid>\n        </CardActions>\n    </Card>;\n}\n","import Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport React from \"react\";\nimport {useHistory, useLocation} from \"react-router-dom\";\nimport {Library, Resource} from \"../library/Library\";\nimport {Lookup} from \"../library/Lookup\";\nimport {ResourceCard} from \"../components/ResourceCard\";\nimport {Tags} from \"../components/Tags\";\n\nfunction hasTag(resource: Resource, tags: Set<string>): boolean {\n    for (const tag of resource.tags.map(t => t.id)) {\n        if (tags.has(tag)) return true;\n    }\n    return false;\n}\n\nexport function ResourcesPage({library, lookup}: { library: Library, lookup: Lookup }) {\n    const location = useLocation();\n    const tags = new Set((new URLSearchParams(location.search).get('tags') || \"\").split(\",\").filter(x=>x));\n    const history = useHistory();\n\n    function toggleTag(tag: string) {\n        const newTags = new Set(tags);\n        if (tags.has(tag))\n            newTags.delete(tag)\n        else\n            newTags.add(tag);\n        history.push(`/?tags=${[...newTags].join(\",\")}`)\n    }\n\n    return <React.Fragment>\n        <Container className=\"App\">\n            <Container>\n                {<Tags tags={Object.values(library.tags)} selected={tags} onClick={toggleTag}/>}\n            </Container>\n            <div style={{borderTop: \"1px solid #999\", marginTop: \"10px\"}}>&nbsp;</div>\n        </Container>\n        <Container className=\"App\">\n            <Grid container spacing={10}>\n                {\n                    library.resources\n                        .filter(resource => tags.size === 0 ? true : hasTag(resource, tags))\n                        .map((resource, i) =>\n                            <Grid item key={i} xs={12} sm={6} md={4} style={{display: 'flex'}}>\n                                <ResourceCard resource={resource} i={i} lookup={lookup}/>\n                            </Grid>\n                        )\n                }\n\n            </Grid>\n        </Container>\n    </React.Fragment>;\n}\n","import Container from \"@material-ui/core/Container\";\nimport React from \"react\";\nimport {GiraffeMarkdown} from \"../components/GiraffeMarkdown\";\n\nconst text = `\n# Terms of service\n\nThe providers (\"we\", \"us\", \"our\") of the service provided by this web site (\"Service\") are not responsible for any \nuser-generated content and accounts (\"Content\"). Content submitted express the views of their author only.\n\nYou agree to not use the Service to submit or link to any Content which is defamatory, abusive, hateful, threatening, \nspam or spam-like, likely to offend, contains adult or objectionable content, contains personal information of others, \nrisks copyright infringement, encourages unlawful activity, or otherwise violates any laws.\n\nAll Content you submit or upload may be reviewed by staff members. All Content you submit or upload may be sent to \nthird-party verification services (including, but not limited to, spam prevention services). Do not submit any Content \nthat you consider to be private or confidential.\n\nWe reserve the rights to remove or modify any Content submitted for any reason without explanation. Requests for \nContent to be removed or modified will be undertaken only at our discretion. We reserve the right to take action \nagainst any account with the Service at any time.\n\nYou are granting us with a non-exclusive, permanent, irrevocable, unlimited license to use, publish, or re-publish your \nContent in connection with the Service. You retain copyright over the Content.\n\nThese terms may be changed at any time without notice.\n\nIf you do not agree with these terms, please do not register or use this Service. If you wish to close your account,\nplease contact us.\n`;\n\nexport function TermsOfService() {\n    return <Container>\n        <GiraffeMarkdown>{text}</GiraffeMarkdown>\n    </Container>\n}\n","import AppBar from \"@material-ui/core/AppBar\";\nimport Container from \"@material-ui/core/Container\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {Alert} from \"@material-ui/lab\";\nimport ThemeProvider from \"@material-ui/styles/ThemeProvider\";\nimport React, {useState} from 'react';\nimport {BrowserRouter as Router, Link, Route, Switch} from \"react-router-dom\";\nimport './App.css';\nimport {Facebook, FullUser} from \"./auth/Facebook\";\nimport {SignInButton} from \"./components/SignInButton\";\nimport {FeatureFlags} from \"./FeatureFlags\";\nimport fur2 from \"./images/fur-2.png\"\nimport fur from \"./images/fur.png\"\nimport {Library} from \"./library/Library\";\nimport {Lookup} from \"./library/Lookup\";\nimport {PrivacyPolicy} from \"./pages/PrivacyPolicy\";\nimport {ResourcePage} from \"./pages/ResourcePage\";\nimport {ResourcesPage} from \"./pages/ResourcesPage\";\nimport {theme, useClasses} from \"./styles\";\nimport {TermsOfService} from \"./pages/TermsOfService\";\nimport {ErrorReports} from \"./util/ErrorReports\";\n\nexport type Props = { loading: Promise<Library>, lookup: Lookup, facebook: Facebook, errors: ErrorReports, flags: FeatureFlags };\n\nexport function App({loading, lookup, facebook, errors, flags}: Props) {\n    const classes = useClasses();\n    const [error, setError] = useState<any>();\n    const [library, setLibrary] = useState<Library>();\n    const [user, setUser] = useState<FullUser | null | undefined>(undefined);\n\n    errors.add(setError);\n\n    loading\n        .then(library => setLibrary(library))\n        .catch(errors.reporter);\n\n    const furHeight = \"62px\";\n    const furMargin = \"8px\";\n    return (\n        <ThemeProvider theme={theme}>\n            <Router>\n                <CssBaseline/>\n                <Container>\n                    <AppBar className={classes.appBar} position=\"sticky\">\n                        <div style={{borderBottom: \"1px solid #999\", marginBottom: \"10px\"}}>&nbsp;</div>\n                        <Link to=\"/\">\n                            <Grid container>\n                                <Grid container item xs={3} justify=\"flex-start\" alignItems=\"center\">\n                                    {flags.signIn && <SignInButton facebook={facebook} user={user} setUser={setUser}/>}\n                                    <Typography>{JSON.stringify(user?.groups)}</Typography>\n                                </Grid>\n                                <Grid container item justify=\"center\" xs={6}>\n                                    <Grid item>\n                                        <img alt=\"\" src={fur} style={{height: furHeight, marginRight: furMargin}}/>\n                                    </Grid>\n                                    <Grid item>\n                                        <Typography variant=\"h1\" className={classes.h1Scientific}\n                                                    style={{marginBottom: \"5px\"}}>SCIENTIFIC</Typography>\n                                        <Typography variant=\"h1\" className={classes.h1Giraffe}>GIRAFFE</Typography>\n                                    </Grid>\n                                    <Grid item>\n                                        <img alt=\"\" src={fur2} style={{height: furHeight, marginLeft: furMargin}}/>\n                                    </Grid>\n                                </Grid>\n                                <Grid container item xs={3} justify=\"flex-end\" alignItems=\"center\">\n                                    {/*<SignInButton facebook={facebook}/>*/}\n                                </Grid>\n                            </Grid>\n                        </Link>\n                        <div style={{borderTop: \"1px solid #999\", marginTop: \"10px\"}}>&nbsp;</div>\n                    </AppBar>\n                </Container>\n\n                <Switch>\n                    <Route path=\"/resources/:identifierType/:identifier\">\n                        {library && <ResourcePage library={library} lookup={lookup}/>}\n                    </Route>\n                    <Route path=\"/privacy\">\n                        <PrivacyPolicy/>\n                    </Route>\n                    <Route path=\"/tos\">\n                        <TermsOfService/>\n                    </Route>\n                    <Route path=\"/\">\n                        {library && <ResourcesPage library={library} lookup={lookup}/>}\n                    </Route>\n                </Switch>\n\n                <Snackbar open={Boolean(error)} autoHideDuration={6000}>\n                    <Alert onClose={() => setError(null)} severity=\"error\">\n                        {error?.message || \"Something went wrong\"}\n                    </Alert>\n                </Snackbar>\n\n                <Container>\n                    <div style={{borderTop: \"1px solid #999\", marginTop: \"100px\"}}/>\n                    <Grid container\n                          justify=\"center\"\n                          spacing={1}\n                          alignContent=\"center\"\n                          alignItems=\"center\"\n                          style={{minHeight: \"40px\"}}>\n                        <Grid item>\n                            <Link to={\"/privacy\"}>privacy</Link> | <Link to={\"/tos\"}>terms of service</Link>\n                        </Grid>\n                    </Grid>\n                </Container>\n            </Router>\n        </ThemeProvider>\n    );\n}\n","import {ErrorReports} from \"../util/ErrorReports\";\n\nexport type User = {\n    name: string,\n    id: string\n}\n\nexport type FullUser = User & {\n    groups: any\n}\n\nfunction fb(): Promise<fb.FacebookStatic> {\n    return new Promise<facebook.FacebookStatic>((resolve) => {\n        function wait() {\n            if (window.FB) resolve(window.FB);\n            else\n                setInterval(wait, 1000);\n        }\n\n        wait();\n    })\n}\n\nexport class Facebook {\n    constructor(private errors: ErrorReports) {\n    }\n\n    async status(): Promise<facebook.StatusResponse> {\n        return this.errors.promise((resolve) => {\n            fb().then(fb => fb.getLoginStatus(async (response) => {\n                    console.log(response);\n                    resolve(response);\n                })\n            )\n        })\n    }\n\n    async logout(): Promise<facebook.StatusResponse> {\n        console.log(\"LOGOUT\");\n        return this.errors.promise((resolve) => {\n            fb().then(fb => fb.logout((response) => {\n                console.log(\"logout\", response);\n                resolve(response);\n            }))\n        })\n    }\n\n    async login(): Promise<facebook.StatusResponse> {\n        return this.errors.promise((resolve, reject) => {\n            fb().then(fb => fb.login(function (response) {\n                    console.log(\"login\", response);\n                    if (response.authResponse) {\n                        resolve(response)\n                    } else {\n                        reject(response);\n                    }\n                },\n                {\n                    return_scopes: true,\n                    scope: \"groups_access_member_info,email,publish_to_groups\"\n                }))\n        })\n    }\n\n    async user(): Promise<FullUser | null> {\n        return this.errors.promise((resolve, reject) => {\n            fb().then(fb => fb.api('/me', function (me: any) {\n                if (me.error) {\n                    console.log(\"could not get 'me'\", me.error);\n                    resolve(null);\n                } else {\n                    FB.api(\n                        `/${me.id}/groups`,\n                        function (groups: any) {\n                            if (groups.error) {\n                                reject(groups.error)\n                            } else {\n                                resolve({...me, groups});\n                            }\n                        }\n                    );\n                }\n            }))\n        });\n\n    }\n}\n","export class FeatureFlags {\n    private readonly flags: Set<string>;\n\n    constructor() {\n        this.flags = new Set(window.localStorage.getItem(\"flags\")?.split(\",\") || [])\n    }\n\n    get signIn(): boolean {\n        return this.flags.has(\"sign-in\")\n    }\n}\n","import {bufferText} from \"@http4t/core/bodies\";\nimport {HttpHandler} from \"@http4t/core/contract\";\nimport {get} from \"@http4t/core/requests\";\n\nexport type Metadata = {\n    readonly title: string;\n    readonly published: Date;\n    readonly publicationTitle: string;\n    readonly authors: string[];\n    readonly doi: string;\n    readonly issn?: string;\n}\n\nexport interface Lookup {\n    lookup(doi: string): Promise<Metadata | undefined>;\n}\n\nexport type Crossref = {\n    message: {\n        title: string[],\n        DOI:string,\n        ISSN?:string,\n        created: {\n            timestamp: number\n        }\n        \"published-print\": {\n            timestamp: number\n        },\n        \"container-title\": string,\n        author: { given: string, family: string, suffix?: string, sequence: \"first\" | \"additional\" }[]\n    }\n}\n\nexport class CrossRefLookup implements Lookup {\n    constructor(private readonly http: HttpHandler) {\n\n    }\n\n    async lookup(doi: string): Promise<Metadata | undefined> {\n        const url = `https://api.crossref.org/works/${doi}`;\n        const response = await this.http.handle(get(url));\n        if (response.status !== 200) {\n            return undefined;\n        }\n        const json: Crossref = JSON.parse(await bufferText(response.body));\n        const meta = json.message;\n        return {\n            title: meta.title.join(\" \"),\n            doi: meta.DOI,\n            issn:meta.ISSN,\n            published: meta[\"published-print\"]?.timestamp ? new Date(meta[\"published-print\"].timestamp) : new Date(meta.created.timestamp),\n            publicationTitle: meta[\"container-title\"],\n            authors: [\n                ...meta.author.filter(a=>a.sequence===\"first\").map(a=>`${a.family}, ${a.given}`),\n                ...meta.author.filter(a=>a.sequence!==\"first\").map(a=>`${a.family}, ${a.given}`)\n            ]\n        };\n    }\n}\n\nexport class CachedLookup implements Lookup {\n    constructor(private readonly decorated: Lookup, private readonly cache: { [doi: string]: Metadata | undefined } = {}) {\n\n    }\n\n    async lookup(doi: string): Promise<Metadata | undefined> {\n        if (!this.cache.hasOwnProperty(doi))\n            this.cache[doi] = await this.decorated.lookup(doi);\n        return this.cache[doi];\n    }\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export type Listener = (e: any) => void;\n\nexport class ErrorReports {\n    private listeners: Set<Listener> = new Set<Listener>();\n    public readonly reporter: (e: any) => void;\n\n    constructor() {\n        const self = this;\n        this.reporter = (e: any) => {\n            self.report(e);\n        }\n    }\n\n    add(listener: Listener): ErrorReports {\n        if (!this.listeners.has(listener)) {\n            this.listeners.add(listener);\n        }\n        return this;\n    }\n\n    report(e: any) {\n        this.listeners.forEach(\n            listener => {\n                try {\n                    listener(e);\n                } catch (listenerError) {\n                    console.log(\"Error listener failed\", listenerError);\n                }\n            }\n        )\n    }\n\n    promise<T>(executor: (resolve: (value?: T | PromiseLike<T>) => void, reject: (reason?: any) => void) => void): Promise<T> {\n        const self = this;\n        return new Promise<T>(executor)\n            .catch((e) => {\n                self.report(e);\n                throw e;\n            });\n    }\n}\n","import {HttpHandler, HttpRequest, HttpResponse} from \"@http4t/core/contract\";\nimport {Uri} from \"@http4t/core/uri\";\nimport axios from \"axios\";\n\nexport class AxiosClient implements HttpHandler {\n    async handle(request: HttpRequest): Promise<HttpResponse> {\n        const response = await axios.request({\n            method: request.method as any,\n            url: Uri.of(request.uri).toString(),\n            headers: request.headers.reduce((acc, [n, v]) => {\n                // @ts-ignore\n                acc[n] = v;\n                return acc;\n            }, {}),\n            data: request.body,\n            transformResponse: res=>res,\n            validateStatus: () => true\n        });\n        return {\n            status: response.status,\n            headers: Object.entries(response.headers).map(([n, v]) => ([n, v as string])),\n            body: response.data\n        };\n    }\n\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {App} from './App';\nimport {Facebook} from \"./auth/Facebook\";\nimport {FeatureFlags} from \"./FeatureFlags\";\nimport './index.css';\nimport {Library} from \"./library/Library\";\nimport library from \"./library/library.json\";\nimport {CachedLookup, CrossRefLookup} from \"./library/Lookup\";\nimport * as serviceWorker from './serviceWorker';\nimport {ErrorReports} from \"./util/ErrorReports\";\nimport {AxiosClient} from \"./util/http4t/AxiosClient\";\n\nconst errors = new ErrorReports().add((e: any) => console.log(\"error\", e));\n\nReactDOM.render(\n    <React.StrictMode>\n        <App\n            lookup={new CachedLookup(new CrossRefLookup(new AxiosClient()))}\n            loading={Promise.resolve(library as any as Library)}\n            facebook={new Facebook(errors)}\n            errors={errors}\n            flags={new FeatureFlags()}\n        />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/fur-2.3f8525c8.png\";","module.exports = __webpack_public_path__ + \"static/media/fur.40360441.png\";"],"sourceRoot":""}